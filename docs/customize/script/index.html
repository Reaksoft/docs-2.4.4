
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documenation for the Gluu Server">
      
      
      
      
        <link rel="shortcut icon" href="../../favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>Behaviour Customization - Gluu Docs</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
	 <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Gluu Docs" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  Customize Gluu Server
                </span>
              
            
            Behaviour Customization
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/GluuFederation/docs-2.4.4-dev" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

            
          </div>
      </div>
    </div>
  </nav>

<nav class="md-secondary-header-nav md-grid" style="
    height: 45px;
    background: transparent;
	
">
<div class="md-flex-secondary" style="
    display: table;
    padding: 10px;
">
<select id="versions" onchange="window.location.href=this.value;" style="
    position: relative;
    display: block;
    /*min-width: 100%;*/
    width: 120%; 
    height: 25px;
    padding: 5px 10px 5px 5px;
    color: #555555;
    border: none;
    background: transparent;
    outline: none;
    -webkit-appearance: none;
    z-index: 99;
    cursor: pointer;
    font-size: 10px;
    margin-bottom: 10px;
    border: 1px solid black;
">
  <option value="/docs-3">Latest</option>
  <option value="/docs-3/2.4.4">2.4.4.2</option>
    </select> 

 </div>
   </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    Gluu Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/GluuFederation/docs-2.4.4-dev" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href="../.." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-2">
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/" title="Summary" class="md-nav__link">
        Summary
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/history/" title="History" class="md-nav__link">
        History
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/design/" title="Design Goals" class="md-nav__link">
        Design Goals
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/architecture/" title="Gluu Server Architecture" class="md-nav__link">
        Gluu Server Architecture
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install Gluu CE
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Install Gluu CE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/" title="Preparing VM" class="md-nav__link">
        Preparing VM
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/ubuntu/" title="Ubuntu 14.04" class="md-nav__link">
        Ubuntu 14.04
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/ubuntu-xenial/" title="Ubuntu 16.04" class="md-nav__link">
        Ubuntu 16.04
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/centos/" title="CentOS 6.x" class="md-nav__link">
        CentOS 6.x
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/centos7/" title="CentOS 7.2" class="md-nav__link">
        CentOS 7.2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/rhel/" title="RHEL 6.x" class="md-nav__link">
        RHEL 6.x
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/rhel7/" title="RHEL 7" class="md-nav__link">
        RHEL 7
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/debian/" title="Debian" class="md-nav__link">
        Debian
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/setup_py/" title="Setup Script Options" class="md-nav__link">
        Setup Script Options
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/azure/" title="Microsoft Azure Guide" class="md-nav__link">
        Microsoft Azure Guide
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/linode/" title="Linode VM Guide" class="md-nav__link">
        Linode VM Guide
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-12" type="checkbox" id="nav-3-12">
    
    <label class="md-nav__link" for="nav-3-12">
      Upgrade/Update Gluu CE
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3-12">
        Upgrade/Update Gluu CE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/upgrading/" title="Upgrade from 2.4.x" class="md-nav__link">
        Upgrade from 2.4.x
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/updating/" title="Update Gluu CE 2.4.4" class="md-nav__link">
        Update Gluu CE 2.4.4
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-13" type="checkbox" id="nav-3-13">
    
    <label class="md-nav__link" for="nav-3-13">
      Cluster Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3-13">
        Cluster Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../cluster/csync-installation/" title="Requirements: csync2 Installation" class="md-nav__link">
        Requirements: csync2 Installation
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../cluster/" title="Clustering with CE" class="md-nav__link">
        Clustering with CE
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Gluu Server GUI
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Gluu Server GUI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../oxtrust/configuration/" title="Configuration" class="md-nav__link">
        Configuration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/outbound-saml/" title="SAML" class="md-nav__link">
        SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/openid-connect/" title="OpenID Connect" class="md-nav__link">
        OpenID Connect
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/uma/" title="UMA" class="md-nav__link">
        UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../oxtrust/users/" title="Users" class="md-nav__link">
        Users
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../oxtrust/personal/" title="Personal" class="md-nav__link">
        Personal
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-7" type="checkbox" id="nav-4-7">
    
    <label class="md-nav__link" for="nav-4-7">
      User Managment
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-7">
        User Managment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../cache-refresh/" title="Sync LDAP/AD" class="md-nav__link">
        Sync LDAP/AD
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../user-management/xlsfile/" title="Import XLS File" class="md-nav__link">
        Import XLS File
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../cache-refresh/register/" title="Register Users" class="md-nav__link">
        Register Users
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../cache-refresh/reset-password/" title="Reset User Password" class="md-nav__link">
        Reset User Password
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../user-management/scim/" title="SCIM 2.0 Add/Delete User" class="md-nav__link">
        SCIM 2.0 Add/Delete User
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-8" type="checkbox" id="nav-4-8">
    
    <label class="md-nav__link" for="nav-4-8">
      Authentication
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4-8">
        Authentication
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/intro/" title="Intro" class="md-nav__link">
        Intro
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/duo/" title="DUO" class="md-nav__link">
        DUO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/u2f/" title="U2F" class="md-nav__link">
        U2F
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/oxpush2/" title="oxPush2" class="md-nav__link">
        oxPush2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/wikid/" title="Wikid" class="md-nav__link">
        Wikid
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/cert/" title="Certificate" class="md-nav__link">
        Certificate
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../social-login-google/" title="Google Authentication" class="md-nav__link">
        Google Authentication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../auth-script/" title="Custom Authentication Script" class="md-nav__link">
        Custom Authentication Script
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/config/" title="Session timeout Configuration" class="md-nav__link">
        Session timeout Configuration
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      How To
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5">
        How To
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/automate-schema/" title="Automate Custom Schema" class="md-nav__link">
        Automate Custom Schema
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/scimuma-howto/" title="Protect SCIM endpoints with UMA" class="md-nav__link">
        Protect SCIM endpoints with UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../user-management/lock-user/" title="Lock User on Failed Attempt" class="md-nav__link">
        Lock User on Failed Attempt
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/uma-demo/" title="Configure UMA" class="md-nav__link">
        Configure UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/update-certificate/" title="Update Gluu Server Certificates" class="md-nav__link">
        Update Gluu Server Certificates
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/saml_proxy_end_to_end/" title="Inbound SAML End to End Testing" class="md-nav__link">
        Inbound SAML End to End Testing
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/logout/" title="Logout" class="md-nav__link">
        Logout
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/find-gluu-server-version/" title="Find which version of Gluu you are using" class="md-nav__link">
        Find which version of Gluu you are using
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/backup/" title="Backup Gluu CE Server" class="md-nav__link">
        Backup Gluu CE Server
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Customize Gluu Server
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6">
        Customize Gluu Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../design/" title="Design Customization" class="md-nav__link">
        Design Customization
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
    <a href="./" title="Behaviour Customization" class="md-nav__link md-nav__link--active">
      Behaviour Customization
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../attributes/" title="Custom Attributes" class="md-nav__link">
        Custom Attributes
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Supported Protocols
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-7">
        Supported Protocols
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/outbound-saml/" title="Outbound SAML" class="md-nav__link">
        Outbound SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/inbound-saml/" title="Inbound SAML" class="md-nav__link">
        Inbound SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/openid-connect/" title="OpenID Connect" class="md-nav__link">
        OpenID Connect
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/uma/" title="UMA" class="md-nav__link">
        UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/oauth2grants/" title="OAuth2" class="md-nav__link">
        OAuth2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-1.1/" title="SCIM 1.1" class="md-nav__link">
        SCIM 1.1
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-2.0/" title="SCIM 2.0" class="md-nav__link">
        SCIM 2.0
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      SP / RP Integration Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-8">
        SP / RP Integration Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/oxd/" title="oxd OAuth2 Client Software " class="md-nav__link">
        oxd OAuth2 Client Software 
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/ubuntu-installation/" title="OpenID Connect RP in Ubuntu" class="md-nav__link">
        OpenID Connect RP in Ubuntu
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/centos-installation/" title="OpenID Connect RP in CentOS" class="md-nav__link">
        OpenID Connect RP in CentOS
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/oxray/" title="OpenID Connect Liferay Plugin" class="md-nav__link">
        OpenID Connect Liferay Plugin
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/java-connect/" title="OpenID Connect Java Authentication" class="md-nav__link">
        OpenID Connect Java Authentication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/apache-saml/" title="SAML SP in CentOS" class="md-nav__link">
        SAML SP in CentOS
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/ubuntu-shib-apache/" title="SAML SP in Ubuntu" class="md-nav__link">
        SAML SP in Ubuntu
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/iis-saml/" title="SAML SP in IIS7" class="md-nav__link">
        SAML SP in IIS7
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/saml-windows/" title="SAML SP in Windows" class="md-nav__link">
        SAML SP in Windows
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Integration Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-9">
        Integration Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/google-saml/" title="Google SSO" class="md-nav__link">
        Google SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/office365/" title="Office 365 SSO" class="md-nav__link">
        Office 365 SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/hobsons-saml/" title="Hobsons Education Solution SSO" class="md-nav__link">
        Hobsons Education Solution SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/salesforce-sso/" title="Salesforce SSO" class="md-nav__link">
        Salesforce SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/dropbox/" title="Dropbox SSO" class="md-nav__link">
        Dropbox SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/test-shib2/" title="TestShib2 SSO" class="md-nav__link">
        TestShib2 SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../integrate/asimba/" title="Asimba & Gluu CE" class="md-nav__link">
        Asimba & Gluu CE
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-10">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10-1" type="checkbox" id="nav-10-1">
    
    <label class="md-nav__link" for="nav-10-1">
      Gluu Server API
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-10-1">
        Gluu Server API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-authorization/" title="OpenID Connect Authorization Endpoint" class="md-nav__link">
        OpenID Connect Authorization Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-token/" title="OpenID Connect Token Endpoint" class="md-nav__link">
        OpenID Connect Token Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-userinfo/" title="OpenID Connect UserInfo Endpoint" class="md-nav__link">
        OpenID Connect UserInfo Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-register-client/" title="OpenID Connect Client Registration Endpoint" class="md-nav__link">
        OpenID Connect Client Registration Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-end-session/" title="OpenID Connect End Session Endpoint" class="md-nav__link">
        OpenID Connect End Session Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-clientinfo/" title="OpenID Connect Client Info Endpoint" class="md-nav__link">
        OpenID Connect Client Info Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-discovery/" title="UMA Discovery Endpoint" class="md-nav__link">
        UMA Discovery Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-authorization-endpoint/" title="UMA Authorization Endpoint" class="md-nav__link">
        UMA Authorization Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-resource-registration/" title="UMA Resource Registration Endpoint" class="md-nav__link">
        UMA Resource Registration Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-permission-registration/" title="UMA Permission Registration Endpoint" class="md-nav__link">
        UMA Permission Registration Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-create-rpt/" title="UMA CreateRPT Endpoint" class="md-nav__link">
        UMA CreateRPT Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-rpt-status/" title="UMA RPT Introspection Endpoint" class="md-nav__link">
        UMA RPT Introspection Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/id-generation/" title="Custom ID Generation API" class="md-nav__link">
        Custom ID Generation API
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-1.1/" title="SCIM 1.1" class="md-nav__link">
        SCIM 1.1
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-2.0/" title="SCIM 2.0" class="md-nav__link">
        SCIM 2.0
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/certificates/" title="Certificates" class="md-nav__link">
        Certificates
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/ldap/" title="LDAP" class="md-nav__link">
        LDAP
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/schema/" title="Schema" class="md-nav__link">
        Schema
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/schema/" title="LDAP Schema" class="md-nav__link">
        LDAP Schema
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/logout/" title="Logout" class="md-nav__link">
        Logout
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxtrust-properties/" title="oxTrust JSON Properties" class="md-nav__link">
        oxTrust JSON Properties
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxauth-properties/" title="oxAuth JSON Properties" class="md-nav__link">
        oxAuth JSON Properties
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/logs/" title="Logs" class="md-nav__link">
        Logs
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-11">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../faq/general/" title="General" class="md-nav__link">
        General
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../faq/troubleshooting/" title="Troubleshooting" class="md-nav__link">
        Troubleshooting
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Fine Tuning and Benchmarking
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-12">
        Fine Tuning and Benchmarking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../fine-tuning/" title="Tuning LDAP, Tomcat" class="md-nav__link">
        Tuning LDAP, Tomcat
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/GluuFederation/docs-2.4.4-dev/blob/master/source/customize\script.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <div class="toc">
<ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#custom-scripts">Custom Scripts</a><ul>
<li><a href="#interception-script-logs">Interception Script Logs</a></li>
</ul>
</li>
<li><a href="#person-authentication">Person Authentication</a><ul>
<li><a href="#certificate-authentication">Certificate Authentication</a></li>
</ul>
</li>
<li><a href="#update-user">Update User</a></li>
<li><a href="#user-registration">User Registration</a></li>
<li><a href="#client-registration">Client Registration</a></li>
<li><a href="#dynamic-scopes">Dynamic Scopes</a></li>
<li><a href="#id-generator">ID Generator</a></li>
<li><a href="#cache-refresh">Cache Refresh</a></li>
<li><a href="#uma-authorization-policies">UMA Authorization Policies</a><ul>
<li><a href="#application-session-management">Application Session Management</a></li>
</ul>
</li>
</ul>
</div>
<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">#</a></h1>
<p>The Gluu Server was designed to be very flexible. Gluu Server admins can use <a href="http://www.jython.org/docs/tutorial/indexprogress.html">Jython</a> interception scripts to customize behavior.</p>
<p>Jython was chosen because an interpreted language facilitates dynamic creation of business logic, and makes it easier to distribute this logic to a cluster of Gluu servers.</p>
<p>Another advantage of Jython was that developers can use either Java or Python classes. Combined with the option of calling web services from Python or Java, this enables the Gluu Server to support any business-driven policy requirement.</p>
<p>To access custom scripts within oxTrust, navigate to <a href="../../oxtrust/configuration/#manage-custom-scripts">Configuration &gt; Manage Custom Scripts</a>.</p>
<h1 id="custom-scripts">Custom Scripts<a class="headerlink" href="#custom-scripts" title="Permanent link">#</a></h1>
<p>There are three methods that inherit a base interface</p>
<table>
<thead>
<tr>
<th>Inherited Methods</th>
<th>Method description</th>
</tr>
</thead>
<tbody>
<tr>
<td>def init(self, configurationAttributes)</td>
<td>This method is only called once during the script initialization. It can be used for global script initialization, initiate objects etc</td>
</tr>
<tr>
<td>def destroy(self, configurationAttributes)</td>
<td>This method is called once to destroy events. It can be used to free resource and objects created in the <code>init()</code> method</td>
</tr>
<tr>
<td>def getApiVersion(self)</td>
<td>The <code>getApiVersion</code> method allows API changes in order to do transparent migration from an old script to a new API. Currently all scripts should return <code>1</code></td>
</tr>
</tbody>
</table>
<p>The <code>configurationAttributes</code> parameter is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code> with properties specified in <code>oxConfigurationProperty</code> attributes.</p>
<p>The script manager only loads enabled scripts. Hence, after enabling a
script, the script manager should trigger an event to either load or
destroy a script. All scripts are stored in LDAP in the
<code>ou=scripts,o=&lt;org_inum&gt;,o=gluu</code> branch.</p>
<p>This is a sample entry:</p>
<pre><code>dn: inum=@!1111!031C.4A65,ou=scripts,o=@!1111,o=gluu
objectClass: oxCustomScript
objectClass: top
description: &lt;custom_script_description&gt;
displayName: &lt;display_name&gt;
gluuStatus: true
inum: @!1111!031C.4A65
oxLevel: &lt;priority&gt;
oxModuleProperty: {"value1":"module_property_name","value2":"module_property_value","description":""}
oxConfigurationProperty: {"value1":"configuration_property_name","value2":"configuration_property_value","description":""}
oxRevision: &lt;revision&gt;
oxScript: &lt;custom_script&gt;
oxScriptType: &lt;script_type&gt;
programmingLanguage: python
</code></pre>
<p>The script manager reloads scripts automatically without needing to
restart the application once <code>oxRevision</code> is increased.</p>
<h2 id="interception-script-logs">Interception Script Logs<a class="headerlink" href="#interception-script-logs" title="Permanent link">#</a></h2>
<p>The log files regarding interception scripts are not stored in the
<code>wrapper.log</code> file. The logs are separated according to the module they
affect. The oxAuth custom script logs are stored in <code>oxauth_script.log</code>
and the oxTrust custom script logs are stored in the
<code>oxtrust_script.log</code>. Please refer to these log files for any errors in
the interception scripts or following the workflow of the script.</p>
<h1 id="person-authentication">Person Authentication<a class="headerlink" href="#person-authentication" title="Permanent link">#</a></h1>
<p><strong>For a list of pre-written, open source Gluu authentication scripts, view our <a href="https://github.com/GluuFederation/oxAuth/tree/master/Server/integrations">server integrations</a></strong></p>
<p>An authentication script enables you to customize the user
authentication experience. For example, you can write a script that
enables a two-factor authentication mechanism like Duo Security. By
default oxAuth uses simple username/password authentication method. This
script type allows an admin to implement more secure workflows to cover
an organizations security requirements. It extends the base script type
with the <code>init</code>, <code>destroy</code> and <code>getApiVersion</code> methods but also adds the
following methods:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>isValidAuthenticationMethod(self, usageType, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method is used to check if the authentication method is in a valid state. For example we can check there if a 3rd party mechanism is available to authenticate users. As a result it should either return <code>True</code> or <code>False</code></td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>usageType</code> is <code>org.xdi.model.AuthenticationScriptUsageType</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def getAlternativeAuthenticationMethod(self, usageType, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method is called only if the current authentication method is in an invalid state. Hence authenticator calls it only if <code>isValidAuthenticationMethod</code> returns False. As a result it should return the reserved authentication method name</td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>uageType</code> is <code>org.xdi.model.AuthenticationScriptUsageType</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def authenticate(self, configurationAttributes, requestParameters, step)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method is the key method within the person authentication script. It checks if the user has passed the specified step or not. As a result it should either return <code>True</code> or <code>False</code></td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>requestParameters</code> is <code>java.util.Map&lt;String, String[]&gt;</code><br/><code>step</code> is java integar<br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def prepareForStep(self, configurationAttributes, requestParameters, step)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method can be used to prepare variables needed to render the login page and store them in an according event context. As a result it should either return <code>True</code> or <code>False</code></td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>requestParameters</code> is <code>java.util.Map&lt;String, String[]&gt;</code><br/><code>step</code> is a java integer<br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def getCountAuthenticationSteps(self, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method should return an integer value with the number of steps in the authentication workflow</td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def getExtraParametersForStep(self, configurationAttributes, step)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method provides a way to notify the authenticator that it should store specified event context parameters event in the oxAuth session. It is needed in a few cases, for example when an authentication script redirects the user to a 3rd party authentication system and expects the workflow to resume after that. As a result it should return a java array of strings</td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code><br/><code>step</code> is a java integer</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def getPageForStep(self, configurationAttributes, step)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method allows the admin to render a required page for a specified authentication step. It should return a string value with a path to an XHTML page. If the return value is empty or null, the authenticator should render the default log in page <code>/login.xhtml</code></td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code><br/><code>step</code> is a java integar</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Method</th>
<th>def logout(self, configurationAttributes, requestParameters)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method is not mandatory. It can be used in cases when you need to execute specific logout logic within the authentication script when oxAuth receives an end session request. Also, it allows oxAuth to stop processing the end session request workflow if it returns <code>False</code>. As a result it should either return <code>True</code> or <code>False</code></td>
</tr>
<tr>
<td>Method Parameters</td>
<td><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code><br/><code>requestParameters</code> is <code>java.util.Map&lt;String, String[]&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in oxAuth application only.</p>
<ul>
<li><a href="../sample-authentication-script.py">Sample Authentication Script</a></li>
</ul>
<h2 id="certificate-authentication">Certificate Authentication<a class="headerlink" href="#certificate-authentication" title="Permanent link">#</a></h2>
<p>Gluu Server CE offers a person authentication module enabling Certificate Authentication.
The image below contains the design diagram for this module.</p>
<p><img alt="image" src="https://raw.githubusercontent.com/GluuFederation/oxAuth/master/Server/integrations/cert/docs/Cert%20design.jpg" /></p>
<p>The script has a few properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
<th>Allowed Values</th>
<th>example</th>
</tr>
</thead>
<tbody>
<tr>
<td>chain_cert_file_path</td>
<td>mandatory property pointing to certificate chains in <a href="https://en.wikipedia.org/wiki/Privacy-enhanced_Electronic_Mail" title="Privacy-enhanced Electronic Mail">pem</a> format</td>
<td>file path</td>
<td>/etc/certs/chain_cert.pem</td>
</tr>
<tr>
<td>map_user_cert</td>
<td>specifies if the script should map new user to local account</td>
<td>true/false</td>
<td>true</td>
</tr>
<tr>
<td>use_generic_validator</td>
<td>enable/disable specific certificate validation</td>
<td>true/false</td>
<td>false</td>
</tr>
<tr>
<td>use_path_validator</td>
<td>enable/disable specific certificate validation</td>
<td>true/false</td>
<td>true</td>
</tr>
<tr>
<td>use_oscp_validator</td>
<td>enable/disable specific certificate validation</td>
<td>true/false</td>
<td>false</td>
</tr>
<tr>
<td>use_crl_validator</td>
<td>enable/disable specific certificate validation</td>
<td>true/false</td>
<td>false</td>
</tr>
<tr>
<td>crl_max_response_size</td>
<td>specifies the maximum allowed size of [CRL][crl] response</td>
<td>Integer &gt; 0</td>
<td>2</td>
</tr>
</tbody>
</table>
<ul>
<li><a href="https://raw.githubusercontent.com/GluuFederation/oxAuth/master/Server/integrations/cert/UserCertExternalAuthenticator.py">Sample Certificate Authentication Script</a></li>
</ul>
<h1 id="update-user">Update User<a class="headerlink" href="#update-user" title="Permanent link">#</a></h1>
<p>oxTrust allows an admin to add and modify users which belong to groups.
In order to simplify this process and apply repeating actions, oxTrust
supports an Update User script. In this script it is possible to modify
a person entry before it is stored in LDAP.</p>
<p>This script type adds only one method to the base script type:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>def updateUser(self, user, persisted, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method updates the user</td>
</tr>
<tr>
<td>Method Parameter</td>
<td><code>user</code> is <code>org.gluu.oxtrust.model.GluuCustomPerson</code><br/>persisted is a boolean value to specify the operation type: add/modify<br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in an oxTrust application only.</p>
<ul>
<li><a href="../sample-update-user-script.py">Sample Update User Script</a></li>
</ul>
<h1 id="user-registration">User Registration<a class="headerlink" href="#user-registration" title="Permanent link">#</a></h1>
<p>oxTrust allows users to perform self-registration. In order to
control/validate user registrations there is the user registration
script type.</p>
<p>This script type adds three methods to the base script type:</p>
<table>
<thead>
<tr>
<th>Methods</th>
<th>def initRegistration(self, user, requestParameters, configurationAttributes)<br/>def preRegistration(self, user, requestParameters, configurationAttributes)<br/>def postRegistration(self, user, requestParameters, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Description</strong></td>
<td>This method enables/disables user account based on the custom property's value</td>
</tr>
<tr>
<td>Method Parameters</td>
<td><code>user</code> is <code>org.gluu.oxtrust.model.GluuCustomPerson</code><br/><code>requestParameters</code> is <code>java.util.Map&lt;String, String[]&gt;</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
<tr>
<td>Custom Property</td>
<td><code>enable_user</code>--&gt; defaults to <code>false</code></td>
</tr>
<tr>
<td>Description</td>
<td>It controls whether or not this user account will be ready for loggin into the Gluu Server CE instance</td>
</tr>
</tbody>
</table>
<p>The methods are executed in the following order:</p>
<table>
<thead>
<tr>
<th>Order</th>
<th>Method</th>
<th>Expected Return</th>
</tr>
</thead>
<tbody>
<tr>
<td>First</td>
<td>initRegistration()</td>
<td>True/False</td>
</tr>
<tr>
<td>Second</td>
<td>preRegistration()</td>
<td>True/False</td>
</tr>
<tr>
<td>Third</td>
<td>postRegistration()</td>
<td>True/False</td>
</tr>
</tbody>
</table>
<p>First oxTrust executes the <code>initRegistration</code> method to do an initial
user entry update. The <code>preRegistration</code> method is called before storing
the user entry in LDAP. Hence in this script it is possible to validate
the user entry. The <code>postRegistration</code> method is called after
successfully storing the user entry in LDAP. In this method, for
example, the script can send an e-mail or send notifications to other
organization systems about the new user entry.</p>
<ul>
<li><a href="../sample-user-registration-script.py">Sample User Registration Script</a></li>
</ul>
<h1 id="client-registration">Client Registration<a class="headerlink" href="#client-registration" title="Permanent link">#</a></h1>
<p>oxAuth implements the <a href="https://openid.net/specs/openid-connect-registration-1_0.html">OpenID Connect dynamic client
registration</a>
specification. All new clients have the same default access scopes and
attributes except password and client ID. The Client Registration script
allows an admin to modify this limitation. In this script it is possible
to get a registration request, analyze it, and apply customizations to
registered clients. For example, a script can give access to specified
scopes if <code>redirect_uri</code> belongs to a specified service or domain.</p>
<p>This script type adds only one method to the base script type:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>def updateClient(self, registerRequest, client, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Method Parameter</strong></td>
<td><code>registerRequest</code> is <code>org.xdi.oxauth.client.RegisterRequest</code><br/><code>client</code> is <code>org.xdi.oxauth.model.registration.Client</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in an oxAuth application only.</p>
<ul>
<li><a href="../sample-client-registration-script">Sample Client Registration Script</a></li>
</ul>
<h1 id="dynamic-scopes">Dynamic Scopes<a class="headerlink" href="#dynamic-scopes" title="Permanent link">#</a></h1>
<p>The dynamic scope custom script allows the parsing of token returned from <code>user_info endpoint</code> into 
LDAP attributes. The <code>id_token</code> is returned from <code>user_info endpoint</code> and the values are dynamically placed 
in the LDAP attributes in Gluu Server.</p>
<ul>
<li><a href="../sample-dynamic-script.py">Sample Dynamic Scope Script</a> </li>
</ul>
<h1 id="id-generator">ID Generator<a class="headerlink" href="#id-generator" title="Permanent link">#</a></h1>
<p>By default oxAuth/oxTrust uses an internal method to generate unique
identifiers for new person/client, etc. entries. In most cases the
format of the ID is:</p>
<p><code>'!' + idType.getInum() + '!' + four_random_HEX_characters + '.' + four_random_HEX_characters.</code></p>
<p>The ID generation script enables an admin to implement custom ID
generation rules.</p>
<p>This script type adds only one method to the base script type:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>def generateId(self, appId, idType, idPrefix, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Method Parameter</strong></td>
<td><code>appId</code> is application ID<br/><code>idType</code> is ID Type<br/><code>idPrefix</code> is ID Prefix<br/><code>user</code> is <code>org.gluu.oxtrust.model.GluuCustomPerson</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in an oxTrust application only.</p>
<ul>
<li><a href="../sample-id-generation.py">Sample ID Generation Script</a></li>
</ul>
<h1 id="cache-refresh">Cache Refresh<a class="headerlink" href="#cache-refresh" title="Permanent link">#</a></h1>
<p>In order to integrate an interception script with an existing
authentication server oxTrust provides a mechanism called <a href="../../cache-refresh/">Cache
Refresh</a> to copy
user data to the local LDAP server. During this process it is possible
to specify key attribute(s) and specify attribute name transformations.
There are also cases when it can be used to overwrite attribute values
or to add new attributes based on other attribute values.</p>
<p>This script type adds only one method to the base script type:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>def updateUser(self, user, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Method Parameter</strong></td>
<td><code>user</code> is <code>org.gluu.oxtrust.model.GluuCustomPerson</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in an oxTrust application only.</p>
<ul>
<li><a href="../sample-cache-refresh-script.py">Sample Cache Refresh Script</a></li>
</ul>
<h1 id="uma-authorization-policies">UMA Authorization Policies<a class="headerlink" href="#uma-authorization-policies" title="Permanent link">#</a></h1>
<p>This is a special script for UMA. It allows an admin to protect UMA
scopes with policies. It is possible to add more than one UMA policy to
an UMA scope. On requesting access to a specified resource, the
application should call specified UMA policies in order to grant or deny
access.</p>
<p>This script type adds only one method to the base script type:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>def authorize(self, authorizationContext, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Method Parameter</strong></td>
<td><code>authorizationContext</code> is <code>org.xdi.oxauth.service.uma.authorization.AuthorizationContext</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in an oxAuth application only.</p>
<ul>
<li><a href="../sample-uma-authorization-script.py">Sample Authorization Script</a></li>
</ul>
<h2 id="application-session-management">Application Session Management<a class="headerlink" href="#application-session-management" title="Permanent link">#</a></h2>
<p>This script allows an admin to notify 3rd party systems about requests
to end an OAuth session. This method is triggered by an oxAuth call to
the <code>end_session</code> endpoint. It's possible to add multiple scripts with
this type. The application should call all of them according to the
level.</p>
<p>This script type adds only one method to the base script type:</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>def endSession(self, httpRequest, authorizationGrant, configurationAttributes)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Method Parameter</strong></td>
<td><code>httpRequest</code> is <code>javax.servlet.http.HttpServletRequest</code><br/><code>authorizationGrant</code> is <code>org.xdi.oxauth.model.common.AuthorizationGrant</code><br/><code>configurationAttributes</code> is <code>java.util.Map&lt;String, SimpleCustomProperty&gt;</code></td>
</tr>
</tbody>
</table>
<p>This script can be used in an oxAuth application only.</p>
<ul>
<li><a href="../sample-application-session-script.py">Sample Application Session Management Script</a></li>
</ul>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../design/" title="Design Customization" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Design Customization
              </span>
            </div>
          </a>
        
        
          <a href="../attributes/" title="Custom Attributes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Custom Attributes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016, Gluu, Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:"../.."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>