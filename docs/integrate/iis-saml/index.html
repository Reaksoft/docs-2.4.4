
<!DOCTYPE html>
<html class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documenation for the Gluu Server">
      
      
      
      
        <link rel="shortcut icon" href="../../favicon.ico">
      
      <meta name="generator" content="mkdocs+mkdocs-material#1.0.3">
    
    
      
        <title>SAML SP in IIS7 - Gluu Docs</title>
      
    
    
      <script src="../../assets/javascripts/modernizr-facb31f4a3.js"></script>
    
    
      
        
        
        
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application-f3ab63f78a.css">
      
      
    
    
  </head>
  
  
  
  
    <body>
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
	 <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Gluu Docs" class=" md-icon md-icon--home  md-header-nav__button">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <span class="md-flex__ellipsis md-header-nav__title">
          
            
              
                <span class="md-header-nav__parent">
                  SP / RP Integration Modules
                </span>
              
            
            SAML SP in IIS7
          
        </span>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
          
<div class="md-search" data-md-component="search">
  <div class="md-search__overlay"></div>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" accesskey="s" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false">
      <label class="md-icon md-search__icon" for="search"></label>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result"></div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            
              


  


  <a href="https://github.com/GluuFederation/docs-2.4.4-dev" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

            
          </div>
      </div>
    </div>
  </nav>

<nav class="md-secondary-header-nav md-grid" style="
    height: 45px;
    background: transparent;
	
">
<div class="md-flex-secondary" style="
    display: table;
    padding: 10px;
">
<select id="versions" onchange="window.location.href=this.value;" style="
    position: relative;
    display: block;
    /*min-width: 100%;*/
    width: 120%; 
    height: 25px;
    padding: 5px 10px 5px 5px;
    color: #555555;
    border: none;
    background: transparent;
    outline: none;
    -webkit-appearance: none;
    z-index: 99;
    cursor: pointer;
    font-size: 10px;
    margin-bottom: 10px;
    border: 1px solid black;
">
  <option value="/docs-3">Latest</option>
  <option value="/docs-3/2.4.4">2.4.4.2</option>
    </select> 

 </div>
   </nav>
</header>
    
    <div class="md-container">
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <i class=" md-icon md-icon--home  md-nav__button">
      
    </i>
    Gluu Docs
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/GluuFederation/docs-2.4.4-dev" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  <li class="md-nav__item">
    
      <a href="../.." title="Home" class="md-nav__link">
        Home
      </a>
    
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-2">
        Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/" title="Summary" class="md-nav__link">
        Summary
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/history/" title="History" class="md-nav__link">
        History
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/design/" title="Design Goals" class="md-nav__link">
        Design Goals
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../introduction/architecture/" title="Gluu Server Architecture" class="md-nav__link">
        Gluu Server Architecture
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Install Gluu CE
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3">
        Install Gluu CE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/" title="Preparing VM" class="md-nav__link">
        Preparing VM
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/ubuntu/" title="Ubuntu 14.04" class="md-nav__link">
        Ubuntu 14.04
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/ubuntu-xenial/" title="Ubuntu 16.04" class="md-nav__link">
        Ubuntu 16.04
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/centos/" title="CentOS 6.x" class="md-nav__link">
        CentOS 6.x
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/centos7/" title="CentOS 7.2" class="md-nav__link">
        CentOS 7.2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/rhel/" title="RHEL 6.x" class="md-nav__link">
        RHEL 6.x
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/rhel7/" title="RHEL 7" class="md-nav__link">
        RHEL 7
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/debian/" title="Debian" class="md-nav__link">
        Debian
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/setup_py/" title="Setup Script Options" class="md-nav__link">
        Setup Script Options
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/azure/" title="Microsoft Azure Guide" class="md-nav__link">
        Microsoft Azure Guide
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/linode/" title="Linode VM Guide" class="md-nav__link">
        Linode VM Guide
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-12" type="checkbox" id="nav-3-12">
    
    <label class="md-nav__link" for="nav-3-12">
      Upgrade/Update Gluu CE
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3-12">
        Upgrade/Update Gluu CE
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/upgrading/" title="Upgrade from 2.4.x" class="md-nav__link">
        Upgrade from 2.4.x
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../deployment/updating/" title="Update Gluu CE 2.4.4" class="md-nav__link">
        Update Gluu CE 2.4.4
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-13" type="checkbox" id="nav-3-13">
    
    <label class="md-nav__link" for="nav-3-13">
      Cluster Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-3-13">
        Cluster Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../cluster/csync-installation/" title="Requirements: csync2 Installation" class="md-nav__link">
        Requirements: csync2 Installation
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../cluster/" title="Clustering with CE" class="md-nav__link">
        Clustering with CE
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Gluu Server GUI
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-4">
        Gluu Server GUI
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../oxtrust/configuration/" title="Configuration" class="md-nav__link">
        Configuration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxtrust-properties/" title="OxTrust JSON Configuration" class="md-nav__link">
        OxTrust JSON Configuration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxauth-properties/" title="OxAuth JSON Configuration" class="md-nav__link">
        OxAuth JSON Configuration
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../outbound-saml/" title="SAML" class="md-nav__link">
        SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../openid-connect/" title="OpenID Connect" class="md-nav__link">
        OpenID Connect
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../uma/" title="UMA" class="md-nav__link">
        UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../oxtrust/users/" title="Users" class="md-nav__link">
        Users
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../oxtrust/personal/" title="Personal" class="md-nav__link">
        Personal
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      User Managment
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-5">
        User Managment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../cache-refresh/" title="Sync LDAP/AD" class="md-nav__link">
        Sync LDAP/AD
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../user-management/xlsfile/" title="Import XLS File" class="md-nav__link">
        Import XLS File
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../cache-refresh/register/" title="Register Users" class="md-nav__link">
        Register Users
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../cache-refresh/reset-password/" title="Reset User Password" class="md-nav__link">
        Reset User Password
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../user-management/scim/" title="SCIM 2.0 Add/Delete User" class="md-nav__link">
        SCIM 2.0 Add/Delete User
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Authentication
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-6">
        Authentication
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/intro/" title="Intro" class="md-nav__link">
        Intro
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/duo/" title="DUO" class="md-nav__link">
        DUO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/u2f/" title="U2F" class="md-nav__link">
        U2F
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/oxpush2/" title="oxPush2" class="md-nav__link">
        oxPush2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/wikid/" title="Wikid" class="md-nav__link">
        Wikid
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../multi-factor/cert/" title="Certificate" class="md-nav__link">
        Certificate
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../customize/social-login-google/" title="Google Authentication" class="md-nav__link">
        Google Authentication
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      FAQ
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-7">
        FAQ
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../faq/general/" title="General" class="md-nav__link">
        General
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../faq/troubleshooting/" title="Troubleshooting" class="md-nav__link">
        Troubleshooting
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      How To
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-8">
        How To
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/automate-schema/" title="Automate Custom Schema" class="md-nav__link">
        Automate Custom Schema
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../scimuma-howto/" title="Protect SCIM endpoints with UMA" class="md-nav__link">
        Protect SCIM endpoints with UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../user-management/lock-user/" title="Lock User on Failed Attempt" class="md-nav__link">
        Lock User on Failed Attempt
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/uma-demo/" title="Configure UMA" class="md-nav__link">
        Configure UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/update-certificate/" title="Update Gluu Server Certificates" class="md-nav__link">
        Update Gluu Server Certificates
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/saml_proxy_end_to_end/" title="Inbound SAML End to End Testing" class="md-nav__link">
        Inbound SAML End to End Testing
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/logout/" title="Logout" class="md-nav__link">
        Logout
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../customize/auth-script/" title="Write a Custom OTP Authentication Script using Twilio" class="md-nav__link">
        Write a Custom OTP Authentication Script using Twilio
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/find-gluu-server-version/" title="Find which version of Gluu you are using" class="md-nav__link">
        Find which version of Gluu you are using
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../how-to/backup/" title="Backup Gluu CE Server" class="md-nav__link">
        Backup Gluu CE Server
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Customize Gluu Server
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-9">
        Customize Gluu Server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../customize/design/" title="Design Customization" class="md-nav__link">
        Design Customization
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../customize/script/" title="Behaviour Customization" class="md-nav__link">
        Behaviour Customization
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../customize/attributes/" title="Custom Attributes" class="md-nav__link">
        Custom Attributes
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Supported Protocols
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-10">
        Supported Protocols
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../outbound-saml/" title="Outbound SAML" class="md-nav__link">
        Outbound SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../inbound-saml/" title="Inbound SAML" class="md-nav__link">
        Inbound SAML
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../openid-connect/" title="OpenID Connect" class="md-nav__link">
        OpenID Connect
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../uma/" title="UMA" class="md-nav__link">
        UMA
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../oauth2grants/" title="OAuth2" class="md-nav__link">
        OAuth2
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-1.1/" title="SCIM 1.1" class="md-nav__link">
        SCIM 1.1
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-2.0/" title="SCIM 2.0" class="md-nav__link">
        SCIM 2.0
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11" checked>
    
    <label class="md-nav__link" for="nav-11">
      SP / RP Integration Modules
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-11">
        SP / RP Integration Modules
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../oxd/" title="oxd OAuth2 Client Software " class="md-nav__link">
        oxd OAuth2 Client Software 
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ubuntu-installation/" title="OpenID Connect RP in Ubuntu" class="md-nav__link">
        OpenID Connect RP in Ubuntu
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../centos-installation/" title="OpenID Connect RP in CentOS" class="md-nav__link">
        OpenID Connect RP in CentOS
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../oxray/" title="OpenID Connect Liferay Plugin" class="md-nav__link">
        OpenID Connect Liferay Plugin
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../java-connect/" title="OpenID Connect Java Authentication" class="md-nav__link">
        OpenID Connect Java Authentication
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../apache-saml/" title="SAML SP in CentOS" class="md-nav__link">
        SAML SP in CentOS
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../ubuntu-shib-apache/" title="SAML SP in Ubuntu" class="md-nav__link">
        SAML SP in Ubuntu
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        SAML SP in IIS7
      </label>
    
    <a href="./" title="SAML SP in IIS7" class="md-nav__link md-nav__link--active">
      SAML SP in IIS7
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#iis-configuration-in-windows-7" title="IIS Configuration in Windows 7" class="md-nav__link">
    IIS Configuration in Windows 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isapi-filter-configuration" title="ISAPI Filter Configuration" class="md-nav__link">
    ISAPI Filter Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shibboleth-sp-setup-in-windows-2008-r2-with-iis7" title="Shibboleth SP Setup in Windows 2008 R2 with IIS7" class="md-nav__link">
    Shibboleth SP Setup in Windows 2008 R2 with IIS7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shibboleth-sp-25x-setup" title="Shibboleth SP 2.5.x Setup" class="md-nav__link">
    Shibboleth SP 2.5.x Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trust-relationship-in-idp" title="Trust Relationship in IdP" class="md-nav__link">
    Trust Relationship in IdP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sp-configuration" title="SP Configuration" class="md-nav__link">
    SP Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sso-testing" title="SSO Testing" class="md-nav__link">
    SSO Testing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../saml-windows/" title="SAML SP in Windows" class="md-nav__link">
        SAML SP in Windows
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      Integration Guides
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-12">
        Integration Guides
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../google-saml/" title="Google SSO" class="md-nav__link">
        Google SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../office365/" title="Office 365 SSO" class="md-nav__link">
        Office 365 SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../hobsons-saml/" title="Hobsons Education Solution SSO" class="md-nav__link">
        Hobsons Education Solution SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../salesforce-sso/" title="Salesforce SSO" class="md-nav__link">
        Salesforce SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../dropbox/" title="Dropbox SSO" class="md-nav__link">
        Dropbox SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../test-shib2/" title="TestShib2 SSO" class="md-nav__link">
        TestShib2 SSO
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../asimba/" title="Asimba & Gluu CE" class="md-nav__link">
        Asimba & Gluu CE
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      Fine Tuning and Benchmarking
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-13">
        Fine Tuning and Benchmarking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../fine-tuning/" title="Tuning LDAP, Tomcat" class="md-nav__link">
        Tuning LDAP, Tomcat
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-14">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/policy/" title="Gluu Policy" class="md-nav__link">
        Gluu Policy
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/config/" title="Configurations" class="md-nav__link">
        Configurations
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/certificates/" title="Certificates" class="md-nav__link">
        Certificates
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/ldap/" title="LDAP" class="md-nav__link">
        LDAP
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/schema/" title="Schema" class="md-nav__link">
        Schema
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/schema/" title="LDAP Schema" class="md-nav__link">
        LDAP Schema
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/logout/" title="Logout" class="md-nav__link">
        Logout
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxtrust-properties/" title="oxTrust Properties File" class="md-nav__link">
        oxTrust Properties File
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/oxauth-properties/" title="oxAuth Properties File" class="md-nav__link">
        oxAuth Properties File
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../reference/logs/" title="Logs" class="md-nav__link">
        Logs
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15">
    
    <label class="md-nav__link" for="nav-15">
      Gluu Server API
    </label>
    <nav class="md-nav" data-md-component="collapsible">
      <label class="md-nav__title" for="nav-15">
        Gluu Server API
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-authorization/" title="OpenID Connect Authorization Endpoint" class="md-nav__link">
        OpenID Connect Authorization Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-token/" title="OpenID Connect Token Endpoint" class="md-nav__link">
        OpenID Connect Token Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-userinfo/" title="OpenID Connect UserInfo Endpoint" class="md-nav__link">
        OpenID Connect UserInfo Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-register-client/" title="OpenID Connect Client Registration Endpoint" class="md-nav__link">
        OpenID Connect Client Registration Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-end-session/" title="OpenID Connect End Session Endpoint" class="md-nav__link">
        OpenID Connect End Session Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/oic-clientinfo/" title="OpenID Connect Client Info Endpoint" class="md-nav__link">
        OpenID Connect Client Info Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-discovery/" title="UMA Discovery Endpoint" class="md-nav__link">
        UMA Discovery Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-authorization-endpoint/" title="UMA Authorization Endpoint" class="md-nav__link">
        UMA Authorization Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-resource-registration/" title="UMA Resource Registration Endpoint" class="md-nav__link">
        UMA Resource Registration Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-permission-registration/" title="UMA Permission Registration Endpoint" class="md-nav__link">
        UMA Permission Registration Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-create-rpt/" title="UMA CreateRPT Endpoint" class="md-nav__link">
        UMA CreateRPT Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/uma-rpt-status/" title="UMA RPT Introspection Endpoint" class="md-nav__link">
        UMA RPT Introspection Endpoint
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/id-generation/" title="Custom ID Generation API" class="md-nav__link">
        Custom ID Generation API
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-1.1/" title="SCIM 1.1" class="md-nav__link">
        SCIM 1.1
      </a>
    
  </li>

        
          
          
  <li class="md-nav__item">
    
      <a href="../../api/scim-2.0/" title="SCIM 2.0" class="md-nav__link">
        SCIM 2.0
      </a>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#iis-configuration-in-windows-7" title="IIS Configuration in Windows 7" class="md-nav__link">
    IIS Configuration in Windows 7
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#isapi-filter-configuration" title="ISAPI Filter Configuration" class="md-nav__link">
    ISAPI Filter Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#shibboleth-sp-setup-in-windows-2008-r2-with-iis7" title="Shibboleth SP Setup in Windows 2008 R2 with IIS7" class="md-nav__link">
    Shibboleth SP Setup in Windows 2008 R2 with IIS7
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shibboleth-sp-25x-setup" title="Shibboleth SP 2.5.x Setup" class="md-nav__link">
    Shibboleth SP 2.5.x Setup
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#trust-relationship-in-idp" title="Trust Relationship in IdP" class="md-nav__link">
    Trust Relationship in IdP
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sp-configuration" title="SP Configuration" class="md-nav__link">
    SP Configuration
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sso-testing" title="SSO Testing" class="md-nav__link">
    SSO Testing
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
               
                 <a href="https://github.com/GluuFederation/docs-2.4.4-dev/blob/master/source/integrate\iis-saml.md" title="Edit this page" class="md-icon md-content__edit">edit</a>
               
              
                
                <h1 id="iis-saml-configuration">IIS SAML Configuration<a class="headerlink" href="#iis-saml-configuration" title="Permanent link">#</a></h1>
<h2 id="iis-configuration-in-windows-7">IIS Configuration in Windows 7<a class="headerlink" href="#iis-configuration-in-windows-7" title="Permanent link">#</a></h2>
<ol>
<li>
<p>Start --&gt; Control Panel --&gt; Programs --&gt; "Turn Windows features on or off"</p>
</li>
<li>
<p>Select (i) IIS (ii) Web Management Tools (iii) II6 Management Compatibility (iv) IIS Management Console (v) IIS Management Scripts and Tools (vi) IIS Management Service</p>
</li>
<li>
<p>Select (i) World Wide Web Services (ii) CGI (iii) ISAPI Filters (iv) ISAPI Extensions --&gt; Press OK.
<img alt="IIS 7 Setup" src="../../img/sp_setup/admin_sp_iis7setup.png" /></p>
</li>
<li>
<p>Test IIS to see if it is installed in your system with "127.0.0.1" in the web browser. For our test case, we used IIS7.
<img alt="Test IIS" src="../../img/sp_setup/admin_sp_iis7test.png" /></p>
</li>
</ol>
<h2 id="isapi-filter-configuration">ISAPI Filter Configuration<a class="headerlink" href="#isapi-filter-configuration" title="Permanent link">#</a></h2>
<ol>
<li>
<p>Open IIS Manager (Start --&gt; Administrative Tools --&gt; Internet Information Service/IIS Manager)</p>
</li>
<li>
<p>Double click on "ISAPI and CGI Restrictions"
<img alt="ISAPI and CGI" src="../../img/sp_setup/admin_sp_isapicgi.png" /></p>
</li>
<li>
<p>Add a new Filter</p>
</li>
</ol>
<p>a. Click Actions --&gt; Add (upper right corner)</p>
<p>b. Select "\opt\shibboleth-sp\lib\shibboleth\isapi_shib.dll"</p>
<p>c. Description: "Shibboleth"</p>
<p>d. Click "Allow" (from the right hand side)</p>
<p><img alt="ISAPI Path" src="../../img/sp_setup/apache_sp_isapipath.png" /></p>
<p>e. Back to IIS Manager --&gt; ISAPI Filters</p>
<p><img alt="ISAPI Filters" src="../../img/sp_setup/apache_sp_isapifilter.png" /></p>
<pre><code>    1. Click "Add" (upper right corner)

    2. Filter Name: Shibboleth

    3. Executable: "\opt\shibboleth-sp\lib\shibboleth\isapi_shib.dll"
</code></pre>
<p><img alt="ISAPI Edit" src="../../img/sp_setup/apache_sp_isapiedit.png" /></p>
<p>f. SSO file extension mapping</p>
<pre><code>    1. Click on "Handler Mapping" from main page
</code></pre>
<p><img alt="SP Handler" src="../../img/sp_setup/admin_sp_handlermapping.png" /></p>
<pre><code>    2. Click "Add Script Map" from Action
</code></pre>
<p><img alt="Script Map" src="../../img/sp_setup/admin_sp_addscriptmap.png" /></p>
<pre><code>    3. Request Path :".sso"

    4. Executable should be pointed to "isapi_shib.dll"
</code></pre>
<p><img alt="Executable" src="../../img/sp_setup/admin_sp_executable.png" /></p>
<p>g. Restart IIS</p>
<p>h. Check Status</p>
<p>Check Status by typing in "http://127.0.0.1/Shibboleth.sso/Status" in the web browser. If it displays an XML document, then the Shibboleth SP Installation in Windows IIS7 in complete.
<img alt="Status Check" src="../../img/sp_setup/admin_sp_checkstatus.png" /></p>
<h2 id="shibboleth-sp-setup-in-windows-2008-r2-with-iis7">Shibboleth SP Setup in Windows 2008 R2 with IIS7<a class="headerlink" href="#shibboleth-sp-setup-in-windows-2008-r2-with-iis7" title="Permanent link">#</a></h2>
<ol>
<li>Open up "Server Manager", scroll down and click on "Add Roles".</li>
</ol>
<p><img alt="Add Role" src="../../img/sp_setup/iis_setup_addrole.png" /></p>
<ol>
<li>Hit "Next"</li>
</ol>
<p><img alt="Next" src="../../img/sp_setup/iis_setup_next.png" /></p>
<ol>
<li>Select "Web Server (IIS)", hit "Next"</li>
</ol>
<p><img alt="Web Server" src="../../img/sp_setup/iis_setup_webserver.png" /></p>
<ol>
<li>Select (i) CGI</li>
</ol>
<p>(ii) ISAPI Extensions</p>
<p>(iii) ISAPI Filters</p>
<p>(iv) Management Tools</p>
<p>(a) IIS Management Console</p>
<p>(b) IIS Management Scripts and Tools</p>
<p>(c) Management Service</p>
<p>(v) All IIS6 Management Compatibility</p>
<p><img alt="Selection" src="../../img/sp_setup/iis_setup_selection.png" /></p>
<p><img alt="Selection" src="../../img/sp_setup/iis_setup_selection1.png" /></p>
<ol>
<li>Hit "Next", for the confirmation, check the list of plugins.</li>
</ol>
<p><img alt="Plugin" src="../../img/sp_setup/iis_setup_plugin.png" /></p>
<p><img alt="Management Tools" src="../../img/sp_setup/iis_setup_managementtools.png" /></p>
<ol>
<li>Hit "Install" and Windows 2008 will complete the installation. A confirmation window shall appear which resembles the screenshot below.</li>
</ol>
<p><img alt="Confirmation" src="../../img/sp_setup/iis_setup_confirmation.png" /></p>
<p>7.Test IIS7 setup from the Internet.</p>
<p><img alt="Test" src="../../img/sp_setup/iis_setup_test.png" /></p>
<h3 id="shibboleth-sp-25x-setup">Shibboleth SP 2.5.x Setup<a class="headerlink" href="#shibboleth-sp-25x-setup" title="Permanent link">#</a></h3>
<ol>
<li>
<p>Down the <a href="http://www.shibboleth.net/downloads/service-provider/latest/">Shibboleth SP 2.5.x</a></p>
</li>
<li>
<p>Start the installation, keep the default path, Select "Install ISAPI modules into IIS", IIS Script Extension must be ".sso" and Hit "Next".</p>
</li>
</ol>
<p><img alt="Shib Setup" src="../../img/sp_setup/iis_setup_shibsetup.png" /></p>
<ol>
<li>After the completion of the installation, the system will ask to reboot the system; hit "Yes".</li>
</ol>
<p><img alt="Restart" src="../../img/sp_setup/iis_setup_restart.png" /></p>
<ol>
<li>Test the Shibboleth SP installation from the SP VM using the URL "localhost/Shibboleth.sso/Status" in the address bar of the Web Browser.</li>
</ol>
<p><img alt="Status" src="../../img/sp_setup/iis_setup_status.png" /></p>
<h3 id="trust-relationship-in-idp">Trust Relationship in IdP<a class="headerlink" href="#trust-relationship-in-idp" title="Permanent link">#</a></h3>
<ol>
<li>Create a Trust Relationship for the new SP in the IdP. It is necessary to upload the Public Certificate of the new SP in the IdP. Please note that the CN of the public certificate MUST BE the same as <em>Hostname</em> of the SP. Hit "Add".</li>
</ol>
<p><img alt="Add TR" src="../../img/sp_setup/iis_setup_addtr.png" /></p>
<ol>
<li>Download the IdP generated configuration files for Shib SP modification.</li>
</ol>
<p><img alt="Download" src="../../img/sp_setup/iis_setup_download.png" /></p>
<h3 id="sp-configuration">SP Configuration<a class="headerlink" href="#sp-configuration" title="Permanent link">#</a></h3>
<ol>
<li>
<p>The files from the IdP must be placed in the SP Configuration.</p>
</li>
<li>
<p>Before placing them inside the SP Configuration please check</p>
</li>
</ol>
<p>(a) The "spcert.crt" file has the CN same as the SP hostname.</p>
<p>(b) The "spcert.crt" and "spkey.key" has the same <em>md5sum</em> value.</p>
<p>(c) The IdP-metadata is perfectly placed inside the SP Configuration.</p>
<p>(d) The downloaded "shibboleth2.xml" file has values resembling the file content below.</p>
<ol>
<li>For testing purpose, we are going to protect a directory named "secure" with the IdP.  Create a folder/directory in the IIS Root Directory and restart Shibd and IIS.</li>
</ol>
<p><img alt="Secure" src="../../img/sp_setup/iis_setup_secure.png" /></p>
<h3 id="sso-testing">SSO Testing<a class="headerlink" href="#sso-testing" title="Permanent link">#</a></h3>
<ol>
<li>
<p>Place the following URL in the web browser: "https://SP_Name/secure"</p>
</li>
<li>
<p>It will redirect the user to the IdP for authentication.</p>
</li>
<li>
<p>After the authentication is complete, the user will be shown the protected page. For this case, the page is the IIS7 index page.</p>
<p><SPConfig xmlns="urn:mace:shibboleth:2.0:native:sp:config"
      xmlns:conf="urn:mace:shibboleth:2.0:native:sp:config"
      xmlns:saml="urn:oasis:names:tc:SAML:2.0:assertion"
      xmlns:samlp="urn:oasis:names:tc:SAML:2.0:protocol"  <br />      xmlns:md="urn:oasis:names:tc:SAML:2.0:metadata"
      logger="syslog.logger" clockSkew="180"></p>
<p><!-- The OutOfProcess section contains properties affecting the shibd daemon. -->
      <OutOfProcess logger="shibd.logger">
      </OutOfProcess></p>
<p><!-- The InProcess section conrains settings affecting web server modules/filters. -->
      <InProcess logger="native.logger">
        <ISAPI normalizeRequest="true" safeHeaderNames="true">
              <Site id="1" name="SP_HOSTNAME_WITHOUT_HTTP_OR_HTTPS"/>
        </ISAPI>
      </InProcess></p>
<p><!-- Only one listener can be defined, to connect in-process modules to shibd. -->
      <TCPListener address="127.0.0.1" port="1600" acl="127.0.0.1"/>
      <!-- <UnixListener address="shibd.sock"/> --></p>
<p><!-- This set of components stores sessions and other persistent data in daemon memory. -->
      <StorageService type="Memory" id="mem" cleanupInterval="900"/>
      <SessionCache type="StorageService" StorageService="mem" cacheTimeout="3600" inprocTimeout="900" cleanupInterval="900"/>
      <ReplayCache StorageService="mem"/>
      <ArtifactMap artifactTTL="180"/></p>
<p><!-- To customize behavior, map hostnames and path components to applicationId and other settings. -->
      <RequestMapper type="Native">
        <RequestMap applicationId="default">
                <Host name="SP_HOSTNAME_WITHOUT_HTTP_OR_HTTPS">
                <Path name="secure" authType="shibboleth" requireSession="true"/>
                </Host>
        </RequestMap>
      </RequestMapper></p>
<p><!--
      The ApplicationDefaults element is where most of Shibboleths SAML bits are defined.
      Resource requests are mapped by the RequestMapper to an applicationId that
      points into to this section.
      -->
  <ApplicationDefaults id="default" policyId="default"
        entityID="DAxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx867"
        REMOTE_USER="eppn persistent-id targeted-id uid mail"
        signing="false" encryption="false" attributePrefix="AJP_"></p>
<pre><code>&lt;!--
    Controls session lifetimes, address checks, cookie handling, and the protocol handlers.
    You MUST supply an effectively unique handlerURL value for each of your applications.
    The value can be a relative path, a URL with no hostname (https:///path) or a full URL.
    The system can compute a relative value based on the virtual host. Using handlerSSL="true"
    will force the protocol to be https. You should also add a cookieProps setting of "; path=/; secure"
    in that case. Note that while we default checkAddress to "false", this has a negative
    impact on the security of the SP. Stealing cookies/sessions is much easier with this disabled.
    --&gt;
&lt;Sessions lifetime="28800" timeout="3600" checkAddress="false"
            handlerURL="https://SP_HOSTNAME/Shibboleth.sso" handlerSSL="false"
            exportLocation="http://localhost/Shibboleth.sso/GetAssertion" exportACL="127.0.0.1"
            idpHistory="false" idpHistoryDays="7" cookieProps="; path=/; secure; httpOnly"&gt;

    &lt;!--
            SessionInitiators handle session requests and relay them to a Discovery page,
            or to an IdP if possible. Automatic session setup will use the default or first
            element (or requireSessionWith can specify a specific id to use).
            --&gt;

    &lt;!-- Default example directs to a specific IdPs SSO service (favoring SAML 2 over Shib 1). --&gt;
            &lt;SessionInitiator type="Chaining" Location="/Login" isDefault="true" id="gluu"
                    relayState="cookie" entityID="https://IDP_HOSTNAME/idp/shibboleth"&gt;
               &lt;SessionInitiator type="SAML2" acsIndex="1" template="bindingTemplate.html"/&gt;
               &lt;SessionInitiator type="Shib1" acsIndex="5"/&gt;
            &lt;/SessionInitiator&gt;

    &lt;!--
            md:AssertionConsumerService locations handle specific SSO protocol bindings,
            such as SAML 2.0 POST or SAML 1.1 Artifact. The isDefault and index attributes
            are used when sessions are initiated to determine how to tell the IdP where and
            how to return the response.
            --&gt;
    &lt;md:AssertionConsumerService Location="/SAML2/POST" index="1"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"/&gt;
            &lt;md:AssertionConsumerService Location="/SAML2/POST-SimpleSign" index="2"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST-SimpleSign"/&gt;
            &lt;md:AssertionConsumerService Location="/SAML2/Artifact" index="3"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"/&gt;
            &lt;md:AssertionConsumerService Location="/SAML2/ECP" index="4"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:PAOS"/&gt;
            &lt;md:AssertionConsumerService Location="/SAML/POST" index="5"
            Binding="urn:oasis:names:tc:SAML:1.0:profiles:browser-post"/&gt;
            &lt;md:AssertionConsumerService Location="/SAML/Artifact" index="6"
            Binding="urn:oasis:names:tc:SAML:1.0:profiles:artifact-01"/&gt;

    &lt;!-- LogoutInitiators enable SP-initiated local or global/single logout of sessions. --&gt;
            &lt;LogoutInitiator type="Chaining" Location="/Logout" relayState="cookie"&gt;
            &lt;LogoutInitiator type="SAML2" template="bindingTemplate.html"/&gt;
            &lt;LogoutInitiator type="Local"/&gt;
            &lt;/LogoutInitiator&gt;

    &lt;!-- md:SingleLogoutService locations handle single logout (SLO) protocol messages. --&gt;
            &lt;md:SingleLogoutService Location="/SLO/SOAP"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP"/&gt;
            &lt;md:SingleLogoutService Location="/SLO/Redirect" conf:template="bindingTemplate.html"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"/&gt;
            &lt;md:SingleLogoutService Location="/SLO/POST" conf:template="bindingTemplate.html"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"/&gt;
            &lt;md:SingleLogoutService Location="/SLO/Artifact" conf:template="bindingTemplate.html"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"/&gt;

    &lt;!-- md:ManageNameIDService locations handle NameID management (NIM) protocol messages. --&gt;
            &lt;md:ManageNameIDService Location="/NIM/SOAP"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP"/&gt;
            &lt;md:ManageNameIDService Location="/NIM/Redirect" conf:template="bindingTemplate.html"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect"/&gt;
            &lt;md:ManageNameIDService Location="/NIM/POST" conf:template="bindingTemplate.html"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST"/&gt;
            &lt;md:ManageNameIDService Location="/NIM/Artifact" conf:template="bindingTemplate.html"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Artifact"/&gt;

    &lt;!--
            md:ArtifactResolutionService locations resolve artifacts issued when using the
            SAML 2.0 HTTP-Artifact binding on outgoing messages, generally uses SOAP.
            --&gt;
            &lt;md:ArtifactResolutionService Location="/Artifact/SOAP" index="1"
            Binding="urn:oasis:names:tc:SAML:2.0:bindings:SOAP"/&gt;

    &lt;!-- Extension service that generates "approximate" metadata based on SP configuration. --&gt;
            &lt;Handler type="MetadataGenerator" Location="/Metadata" signing="false"/&gt;

            &lt;!-- Status reporting service. --&gt;
            &lt;Handler type="Status" Location="/Status" acl="127.0.0.1"/&gt;

            &lt;!-- Session diagnostic service. --&gt;
            &lt;Handler type="Session" Location="/Session" showAttributeValues="false"/&gt;

&lt;/Sessions&gt;

&lt;!--
    Allows overriding of error template filenames. You can also add attributes with values
    that can be plugged into the templates.
    --&gt;
    &lt;Errors supportContact="support@gluu.org"
            logoLocation="/shibboleth-sp/logo.jpg"
            styleSheet="/shibboleth-sp/main.css"/&gt;

&lt;!-- Uncomment and modify to tweak settings for specific IdPs or groups. --&gt;
    &lt;RelyingParty Name="IDP_HOSTNAME_WITHOUT_HTTP_OR_HTTPS" keyName="IDP_HOSTNAME_WITHOUT_HTTP_OR_HTTPS"/&gt;

&lt;!-- Chains together all your metadata sources. --&gt;
    &lt;MetadataProvider type="Chaining"&gt;
    &lt;MetadataProvider type="XML" file="C:\opt\shibboleth-sp\etc\shibboleth\idp-metadata.xml"/&gt;
    &lt;/MetadataProvider&gt;

&lt;!-- Chain the two built-in trust engines together. --&gt;
    &lt;TrustEngine type="Chaining"&gt;
            &lt;TrustEngine type="ExplicitKey"/&gt;
            &lt;TrustEngine type="PKIX"/&gt;
    &lt;/TrustEngine&gt;

&lt;!-- Map to extract attributes from SAML assertions. --&gt;
    &lt;AttributeExtractor type="XML" validate="true" path="attribute-map.xml"/&gt;

    &lt;!-- Use a SAML query if no attributes are supplied during SSO. --&gt;
    &lt;AttributeResolver type="Query" subjectMatch="true"/&gt;

    &lt;!-- Default filtering policy for recognized attributes, lets other data pass. --&gt;
    &lt;AttributeFilter type="XML" validate="true" path="attribute-policy.xml"/&gt;

&lt;!-- Simple file-based resolver for using a single keypair. --&gt;
    &lt;!-- &lt;CredentialResolver type="File" key="sp-key.pem" certificate="sp-cert.pem"/&gt; --&gt;

    &lt;!-- TODO is password needed? --&gt;
    &lt;CredentialResolver type="File" key="C:\opt\shibboleth-sp\etc\shibboleth\spkey.key"
                    certificate="C:\opt\shibboleth-sp\etc\shibboleth\spcert.crt" /&gt;

&lt;/ApplicationDefaults&gt;

&lt;!-- Each policy defines a set of rules to use to secure messages. --&gt;
    &lt;SecurityPolicies&gt;
    &lt;!--
    The predefined policy enforces replay/freshness, standard
    condition processing, and permits signing and client TLS.
    --&gt;
&lt;Policy id="default" validate="false"&gt;
            &lt;PolicyRule type="MessageFlow" checkReplay="true" expires="60"/&gt;
            &lt;PolicyRule type="Conditions"&gt;
                &lt;PolicyRule type="Audience"/&gt;
                &lt;!-- Enable Delegation rule to permit delegated access. --&gt;
                &lt;!-- &lt;PolicyRule type="Delegation"/&gt; --&gt;
            &lt;/PolicyRule&gt;
            &lt;PolicyRule type="ClientCertAuth" errorFatal="true"/&gt;
            &lt;PolicyRule type="XMLSigning" errorFatal="true"/&gt;
            &lt;PolicyRule type="SimpleSigning" errorFatal="true"/&gt;
    &lt;/Policy&gt;
    &lt;/SecurityPolicies&gt;
</code></pre>
<p></SPConfig></p>
</li>
</ol>
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../ubuntu-shib-apache/" title="SAML SP in Ubuntu" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                SAML SP in Ubuntu
              </span>
            </div>
          </a>
        
        
          <a href="../saml-windows/" title="SAML SP in Windows" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                SAML SP in Windows
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016, Gluu, Inc.
          </div>
        
        powered by
        <a href="http://www.mkdocs.org" title="MkDocs">MkDocs</a>
        and
        <a href="http://squidfunk.github.io/mkdocs-material/" title="Material for MkDocs">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application-2afe21e0b2.js"></script>
      <script>var config={url:{base:"../.."}},app=new Application(config);app.initialize()</script>
      
    
    
      
    
  </body>
</html>